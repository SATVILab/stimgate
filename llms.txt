## ğŸ§¬ `stimgate`: Identify Responding Cells via Outlier Gating

`stimgate` is an R package for identifying cell populations that have
responded to stimulation. It applies outlier gating functions to flow
cytometry data, comparing unstimulated and stimulated tubes from the
same sample to isolate stimulation-specific responses.

------------------------------------------------------------------------

## ğŸ“¦ Installation

``` r
# Install BiocManager and devtools if needed
if (!requireNamespace("BiocManager", quietly = TRUE)) {
  install.packages("BiocManager")
}
if (!requireNamespace("devtools", quietly = TRUE)) {
  install.packages("devtools")
}

# Install all dependencies using Bioconductor and CRAN repos
devtools::install_github(
  "SATVILab/stimgate",
  repos = BiocManager::repositories(), dependencies = TRUE
)
```

------------------------------------------------------------------------

## ğŸš€ Quick Start

``` r
library(stimgate)

# Get example dataset
example_data <- get_example_data()
gs <- flowWorkspace::load_gs(example_data$path_gs)

# Run the stimgate pipeline
path_project <- stimgate_gate(
  path_project = file.path(tempdir(), "stimgate_example"),
  .data = gs,
  batch_list = example_data$batch_list,
  marker = example_data$marker,
  pop_gate = "root"
)

# Get statistics for the identified gates
stats <- get_stats(path_project)

# Extract gate information
gates <- get_gate_tbl(path_project)

# Visualize results
stimgate_plot(
  ind = seq_len(2),
  .data = gs,
  path_project = path_project,
  marker = example_data$marker,
)
```

------------------------------------------------------------------------

## ğŸ”‘ Features

- **Outlier-based gating**: Identifies responding cells by comparing
  stimulated vs unstimulated samples
- **Batch processing**: Handles multiple donors or experimental batches
  simultaneously  
- **Background subtraction**: Reduces false positives from baseline
  cytokine activity
- **Flexible gating**: Supports various gating parameters and
  combinations
- **Comprehensive output**: Generates statistics, gate tables, and
  visualization plots
- **FCS export**: Write cytokine-positive cells to new FCS files for
  downstream analysis
- **Bioconductor compatibility**: Designed for integration with
  `flowCore`, `flowWorkspace`, and `CytoML`

------------------------------------------------------------------------

## ğŸ“– Documentation

- ğŸ“˜ **Vignette**:
  [`vignette("stimgate")`](https://satvilab.github.io/stimgate/articles/stimgate.md) -
  Getting started guide
- ğŸŒ **Website**:
  [satvilab.github.io/stimgate](https://satvilab.github.io/stimgate/)
- ğŸ”— **GitHub**:
  [github.com/SATVILab/stimgate](https://github.com/SATVILab/stimgate)
- ğŸ“¦ **Bioconductor**: *URL to be added upon release*
- ğŸ”§ **Function reference**:
  [`help(package = "stimgate")`](https://rdrr.io/pkg/stimgate/man)

### Key Functions

- [`stimgate_gate()`](https://satvilab.github.io/stimgate/reference/stimgate_gate.md):
  Main gating function to identify cytokine-positive cells
- [`get_stats()`](https://satvilab.github.io/stimgate/reference/get_stats.md):
  Generate comprehensive statistics from gating results  
- [`stimgate_plot()`](https://satvilab.github.io/stimgate/reference/stimgate_plot.md):
  Create bivariate hex and univariate density plots with gate overlays
- `get_gate_tbl()`: Extract gate thresholds and parameters
- [`stimgate_fcs_write()`](https://satvilab.github.io/stimgate/reference/stimgate_fcs_write.md):
  Export cytokine-positive cells as FCS files

------------------------------------------------------------------------

## ğŸ“Œ Citation

``` r
citation("stimgate")
```

> Rodo M. (2024). *stimgate: Identify responding cells as outliers*. R
> package version 0.3.1. <https://github.com/SATVILab/stimgate>

------------------------------------------------------------------------

## ğŸ¤ Contributing

We welcome bug reports, feature requests, and pull requests via [GitHub
Issues](https://github.com/SATVILab/stimgate/issues).

### Development Guidelines

Before submitting changes, please ensure: - Run `devtools::test()` to
verify all tests pass - Run `devtools::document()` to update
documentation  
- Run `styler::style_pkg()` for consistent code formatting - Run
`lintr::lint_package()` to check for style violations

------------------------------------------------------------------------

## ğŸ“„ License

This package is licensed under the MIT License. See
[LICENSE](https://satvilab.github.io/stimgate/LICENSE) for details.

# Package index

## Gating Functions

Main functions for identifying cytokine-positive cells

- [`stimgate_gate()`](https://satvilab.github.io/stimgate/reference/stimgate_gate.md)
  : Identify cytokine-positive cells through automated gating
- [`stimgate_gate_get()`](https://satvilab.github.io/stimgate/reference/stimgate_gate_get.md)
  : Get gates

## Statistics and Results

Functions for extracting gating results and statistics

- [`get_stats()`](https://satvilab.github.io/stimgate/reference/get_stats.md)
  : Get gating statistics

## Visualization

Functions for plotting gates and results

- [`stimgate_plot()`](https://satvilab.github.io/stimgate/reference/stimgate_plot.md)
  : Plot stimulation gate

## Data Export

Functions for exporting gated data

- [`stimgate_fcs_write()`](https://satvilab.github.io/stimgate/reference/stimgate_fcs_write.md)
  : Write FCS files of marker-positive FCS files

## Utilities

Helper and utility functions

- [`chnl_lab()`](https://satvilab.github.io/stimgate/reference/chnl_lab.md)
  : Get markers and channels
- [`get_example_data()`](https://satvilab.github.io/stimgate/reference/get_example_data.md)
  : Get example GatingSet

# Articles

### All vignettes

- [Getting Started with
  stimgate](https://satvilab.github.io/stimgate/articles/stimgate.md):
